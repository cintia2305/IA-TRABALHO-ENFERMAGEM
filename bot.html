<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat por Voz</title>
</head>
<body>

<div class="chatbox">
    <h2>Chatbox por Voz</h2>
    <button onclick="ouvir()">Falar Agora</button>
</div>

<script>

const pergunta = [
    "qual o hormônio responsável pelo crescimento",
    "qual o significado da sigla pa",
    "qual o principal método de prevenção contra ists",
    "quais os primeiros sinais da puberdade masculina",
    "onde ocorre a fecundação do espermatozoide e do óvulo"
];

const resposta = [
    "O principal hormônio responsável pelo crescimento do corpo humano é o hormônio do crescimento (GH, do inglês Growth Hormone). Ele é produzido pela hipófise (ou glândula pituitária), que fica localizada na base do cérebro.",
    "PA geralmente se refere a Pressão Arterial. A pressão arterial é a força que o sangue exerce contra as paredes das artérias durante a circulação. É medida em dois valores: a pressão sistólica (quando o coração se contrai) e a pressão diastólica (quando o coração está em repouso entre os batimentos).",
    "Uso correto do preservativo (camisinha masculina ou feminina).Além disso, outras medidas importantes incluem:Vacinação contra HPV e hepatite B.Testagem regular para ISTs.Uso de PrEP e PEP (para prevenção do HIV, em casos específicos).Evitar compartilhamento de objetos cortantes (agulhas, lâminas, etc.).",
    "Os primeiros sinais da puberdade masculina incluem o aumento dos testículos, o surgimento de pelos pubianos, a mudança na voz, o estirão de crescimento, o desenvolvimento muscular e o surgimento de acne devido à pele mais oleosa.",
    "A fecundação, que é a união do espermatozoide (célula reprodutiva masculina) com o óvulo (célula reprodutiva feminina), ocorre nas trompas de falópio (também chamadas de tubas uterinas) da mulher."
];

function falar(texto) {
    const discurso = new SpeechSynthesisUtterance(texto);
    discurso.lang = "pt-BR";
    discurso.rate = 1;
    window.speechSynthesis.speak(discurso);
}

function ouvir() {

    const reconhecer = new webkitSpeechRecognition();
    reconhecer.lang = "pt-BR";
    reconhecer.start();

    reconhecer.onresult = function(event) {

        const textoFalado = event.results[0][0].transcript.toLowerCase();
        console.log("Você disse:", textoFalado);

        for (let i = 0; i < pergunta.length; i++) {
            if (textoFalado.includes(pergunta[i])) {
                falar(resposta[i]);
                return;
            }
        }

        falar("Desculpe, não entendi sua pergunta. Poderia repetir?");
    };
}

</script>

</body>
</html>
